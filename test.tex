% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

% This is a simple template for a LaTeX document using the "article" class.
% See "book", "report", "letter" for other types of document.
\errorcontextlines=500

\documentclass[12pt]{ociamthesis}  % default square logo 

%\documentclass[a4paper,11pt,oneside]{bo222ok}
%\usepackage[DIV=14,BCOR=2mm,headinclude=true,footinclude=false]{typearea}

\input{preamble}

\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)


\title{Relational semantics for quantum protocols}
\author{Cole Comfort}
\college{New College}  %your college
\degree{Doctor of Philosophy in Computer Science} 
\degreedate{????? 2023}    

%\renewcommand{\submittedtext}{change the default text here if needed}
%\date{} % Activate to display a given date or no date (if empty),
         % otherwise the current date is printed 

\newcommand{\Set}{\Sets}
\newcommand{\Mnd}{{\sf Mnd}}


\begin{document}
\maketitle
%
%\tableofcontents
%
%
%\chapter{Introduction}
%
%%\chapter{Background}
%%\input{background_chapter}
%%
%%\chapter{Boolean circuits as spans of finite sets}
%%\input{zxa_chapter}
%%
%%\chapter{Decomposing Boolean circuits via distributive law}
%%\input{decomposing_zx_chapter}
%%
%%\chapter{Stabilizer codes as affine cositropic relations}
%%\input{symplectic_chapter}
%
%\chapter{Protocols via the Grothendieck construction}
%\input{grothendieck_chapter}
%

\begin{align*}
\left\llbracket
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=Z] (0) at (-1, 1) {};
		\node [style=Z] (1) at (-0.25, 1) {};
		\node [style=X] (2) at (-0.25, 1.75) {};
		\node [style=X] (3) at (-1, 1.75) {};
		\node [style=none] (4) at (-1, 2.25) {};
		\node [style=none] (5) at (-0.25, 2.25) {};
		\node [style=none] (6) at (-1, 0.5) {};
		\node [style=none] (7) at (-0.25, 0.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (7.center) to (1);
		\draw (1) to (3);
		\draw [in=120, out=-120, looseness=1.25] (3) to (0);
		\draw (0) to (2);
		\draw (2) to (5.center);
		\draw [in=60, out=-60, looseness=1.25] (2) to (1);
		\draw (0) to (6.center);
		\draw (3) to (4.center);
	\end{pgfonlayer}
\end{tikzpicture}
\right\rrbracket_{\ZXA}
&=
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-1, 0.5) {};
		\node [style=none] (1) at (0.5, 0.5) {};
		\node [style=none] (2) at (-1, 3) {};
		\node [style=none] (3) at (0.5, 3) {};
		\node [style=zeroin] (4) at (-0.5, 0.75) {};
		\node [style=zeroin] (5) at (0, 0.75) {};
		\node [style=oplus] (6) at (-0.5, 1.25) {};
		\node [style=oplus] (7) at (0, 1.25) {};
		\node [style=dot] (8) at (-1, 1.25) {};
		\node [style=dot] (9) at (0.5, 1.25) {};
		\node [style=dot] (10) at (0, 1.75) {};
		\node [style=dot] (11) at (-0.5, 2.25) {};
		\node [style=oplus] (12) at (-1, 1.75) {};
		\node [style=oplus] (13) at (0.5, 2.25) {};
		\node [style=Z] (14) at (-0.5, 2.75) {};
		\node [style=Z] (15) at (0, 2.75) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (1.center) to (9);
		\draw (9) to (13);
		\draw (13) to (3.center);
		\draw (15) to (10);
		\draw (10) to (7);
		\draw (7) to (5);
		\draw (4) to (6);
		\draw (6) to (11);
		\draw (11) to (14);
		\draw (2.center) to (12);
		\draw (12) to (8);
		\draw (8) to (0.center);
		\draw (8) to (6);
		\draw (7) to (9);
		\draw (10) to (12);
		\draw (11) to (13);
	\end{pgfonlayer}
\end{tikzpicture}
\eq{Lem \ref{lemma:Iwama}}
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-1, 0.5) {};
		\node [style=none] (1) at (0.5, 0.5) {};
		\node [style=none] (2) at (-1, 4) {};
		\node [style=none] (3) at (0.5, 4) {};
		\node [style=zeroin] (4) at (-0.5, 0.75) {};
		\node [style=zeroin] (5) at (0, 0.75) {};
		\node [style=oplus] (6) at (-0.5, 1.25) {};
		\node [style=oplus] (7) at (0, 2.75) {};
		\node [style=dot] (8) at (-1, 1.25) {};
		\node [style=dot] (9) at (0.5, 2.75) {};
		\node [style=dot] (10) at (0, 2.25) {};
		\node [style=dot] (11) at (-0.5, 3.25) {};
		\node [style=oplus] (12) at (-1, 2.25) {};
		\node [style=oplus] (13) at (0.5, 3.25) {};
		\node [style=Z] (14) at (-0.5, 3.75) {};
		\node [style=Z] (15) at (0, 3.75) {};
		\node [style=oplus] (16) at (-1, 1.75) {};
		\node [style=dot] (17) at (0.5, 1.75) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (1.center) to (9);
		\draw (9) to (13);
		\draw (13) to (3.center);
		\draw (15) to (10);
		\draw (10) to (7);
		\draw (7) to (5);
		\draw (4) to (6);
		\draw (6) to (11);
		\draw (11) to (14);
		\draw (2.center) to (12);
		\draw (12) to (8);
		\draw (8) to (0.center);
		\draw (8) to (6);
		\draw (7) to (9);
		\draw (10) to (12);
		\draw (11) to (13);
		\draw (17) to (16);
	\end{pgfonlayer}
\end{tikzpicture}
\eq{\ref{TOF.2}}
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-1, 0.5) {};
		\node [style=none] (1) at (0.5, 0.5) {};
		\node [style=none] (2) at (-1, 3.5) {};
		\node [style=none] (3) at (0.5, 3.5) {};
		\node [style=zeroin] (4) at (-0.5, 0.75) {};
		\node [style=zeroin] (5) at (0, 0.75) {};
		\node [style=oplus] (6) at (-0.5, 1.25) {};
		\node [style=oplus] (7) at (0, 2.25) {};
		\node [style=dot] (8) at (-1, 1.25) {};
		\node [style=dot] (9) at (0.5, 2.25) {};
		\node [style=dot] (10) at (-0.5, 2.75) {};
		\node [style=oplus] (11) at (0.5, 2.75) {};
		\node [style=Z] (12) at (-0.5, 3.25) {};
		\node [style=Z] (13) at (0, 3.25) {};
		\node [style=oplus] (14) at (-1, 1.75) {};
		\node [style=dot] (15) at (0.5, 1.75) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (1.center) to (9);
		\draw (9) to (11);
		\draw (11) to (3.center);
		\draw (7) to (5);
		\draw (4) to (6);
		\draw (6) to (10);
		\draw (10) to (12);
		\draw (8) to (0.center);
		\draw (8) to (6);
		\draw (7) to (9);
		\draw (10) to (11);
		\draw (15) to (14);
		\draw (2.center) to (14);
		\draw (14) to (8);
		\draw (7) to (13);
	\end{pgfonlayer}
\end{tikzpicture}
\eq{unit}
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-1, 0.5) {};
		\node [style=none] (1) at (0, 0.5) {};
		\node [style=none] (2) at (-1, 3) {};
		\node [style=none] (3) at (0, 3) {};
		\node [style=zeroin] (4) at (-0.5, 0.75) {};
		\node [style=oplus] (5) at (-0.5, 1.25) {};
		\node [style=dot] (6) at (-1, 1.25) {};
		\node [style=dot] (7) at (-0.5, 2.25) {};
		\node [style=oplus] (8) at (0, 2.25) {};
		\node [style=Z] (9) at (-0.5, 2.75) {};
		\node [style=oplus] (10) at (-1, 1.75) {};
		\node [style=dot] (11) at (0, 1.75) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (8) to (3.center);
		\draw (4) to (5);
		\draw (5) to (7);
		\draw (7) to (9);
		\draw (6) to (0.center);
		\draw (6) to (5);
		\draw (7) to (8);
		\draw (11) to (10);
		\draw (2.center) to (10);
		\draw (10) to (6);
		\draw (8) to (11);
		\draw (11) to (1.center);
	\end{pgfonlayer}
\end{tikzpicture}\\
&=
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.75, 0.5) {};
		\node [style=none] (1) at (0, 0.5) {};
		\node [style=none] (2) at (-1, 3) {};
		\node [style=none] (3) at (0, 3) {};
		\node [style=dot] (4) at (-0.5, 2.25) {};
		\node [style=oplus] (5) at (0, 2.25) {};
		\node [style=Z] (6) at (-0.5, 2.75) {};
		\node [style=oplus] (7) at (-1, 1.75) {};
		\node [style=dot] (8) at (0, 1.75) {};
		\node [style=fanout] (9) at (-0.75, 1) {};
		\node [style=none] (10) at (-0.5, 1.75) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (5) to (3.center);
		\draw (4) to (6);
		\draw (4) to (5);
		\draw (8) to (7);
		\draw (2.center) to (7);
		\draw (5) to (8);
		\draw (8) to (1.center);
		\draw (0.center) to (9);
		\draw [in=-90, out=108] (9) to (7);
		\draw (4) to (10.center);
		\draw [in=72, out=-90] (10.center) to (9);
	\end{pgfonlayer}
\end{tikzpicture}
\eq{\ref{CNOT.2}}
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.75, 0.5) {};
		\node [style=none] (1) at (0, 0.5) {};
		\node [style=none] (2) at (-1, 4) {};
		\node [style=none] (3) at (0, 4) {};
		\node [style=dot] (4) at (-0.5, 3.25) {};
		\node [style=oplus] (5) at (0, 3.25) {};
		\node [style=Z] (6) at (-0.5, 3.75) {};
		\node [style=oplus] (7) at (-1, 2.75) {};
		\node [style=dot] (8) at (0, 2.75) {};
		\node [style=fanout] (9) at (-0.75, 1) {};
		\node [style=oplus] (10) at (-0.5, 2.25) {};
		\node [style=dot] (11) at (0, 2.25) {};
		\node [style=oplus] (12) at (-0.5, 1.75) {};
		\node [style=dot] (13) at (0, 1.75) {};
		\node [style=none] (14) at (-1, 1.75) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (5) to (3.center);
		\draw (4) to (6);
		\draw (4) to (5);
		\draw (8) to (7);
		\draw (2.center) to (7);
		\draw (5) to (8);
		\draw (8) to (1.center);
		\draw (0.center) to (9);
		\draw (11) to (10);
		\draw (13) to (12);
		\draw (4) to (10);
		\draw (10) to (12);
		\draw [in=60, out=-90] (12) to (9);
		\draw (7) to (14.center);
		\draw [in=120, out=-90] (14.center) to (9);
	\end{pgfonlayer}
\end{tikzpicture}
\eq{Lem. \ref{lemma:natoplus}}
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.75, 0.5) {};
		\node [style=none] (1) at (0, 0.5) {};
		\node [style=none] (2) at (-1, 3.75) {};
		\node [style=none] (3) at (0, 3.75) {};
		\node [style=dot] (4) at (-0.5, 3) {};
		\node [style=oplus] (5) at (0, 3) {};
		\node [style=Z] (6) at (-0.5, 3.5) {};
		\node [style=fanout] (7) at (-0.75, 1.75) {};
		\node [style=oplus] (8) at (-0.5, 2.5) {};
		\node [style=dot] (9) at (0, 2.5) {};
		\node [style=none] (10) at (-1, 2.5) {};
		\node [style=oplus] (11) at (-0.75, 1) {};
		\node [style=dot] (12) at (0, 1) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (5) to (3.center);
		\draw (4) to (6);
		\draw (4) to (5);
		\draw (0.center) to (7);
		\draw (9) to (8);
		\draw (4) to (8);
		\draw [in=120, out=-90] (10.center) to (7);
		\draw (12) to (11);
		\draw [in=-90, out=60] (7) to (8);
		\draw (9) to (12);
		\draw (12) to (1.center);
		\draw (9) to (5);
		\draw (2.center) to (10.center);
	\end{pgfonlayer}
\end{tikzpicture}\\
&\eq{Lem. \ref{lemma:whiteunit}}
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.75, 0.5) {};
		\node [style=none] (1) at (0, 0.5) {};
		\node [style=none] (2) at (-1, 4.25) {};
		\node [style=none] (3) at (0, 4.25) {};
		\node [style=dot] (4) at (-0.5, 3) {};
		\node [style=oplus] (5) at (0, 3) {};
		\node [style=Z] (6) at (-0.5, 4) {};
		\node [style=fanout] (7) at (-0.75, 1.75) {};
		\node [style=oplus] (8) at (-0.5, 2.5) {};
		\node [style=dot] (9) at (0, 2.5) {};
		\node [style=none] (10) at (-1, 2.5) {};
		\node [style=oplus] (11) at (-0.75, 1) {};
		\node [style=dot] (12) at (0, 1) {};
		\node [style=oplus] (13) at (-0.5, 3.5) {};
		\node [style=dot] (14) at (0, 3.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (5) to (3.center);
		\draw (4) to (6);
		\draw (4) to (5);
		\draw (0.center) to (7);
		\draw (9) to (8);
		\draw (4) to (8);
		\draw [in=120, out=-90] (10.center) to (7);
		\draw (12) to (11);
		\draw [in=-90, out=60] (7) to (8);
		\draw (9) to (12);
		\draw (12) to (1.center);
		\draw (9) to (5);
		\draw (2.center) to (10.center);
		\draw (14) to (13);
	\end{pgfonlayer}
\end{tikzpicture}
\eq{\ref{TOF.14}}
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.75, 0.5) {};
		\node [style=none] (1) at (0, 0.5) {};
		\node [style=none] (2) at (-1, 3.75) {};
		\node [style=none] (3) at (0, 3.75) {};
		\node [style=Z] (4) at (-0.5, 3.5) {};
		\node [style=fanout] (5) at (-0.75, 1.75) {};
		\node [style=none] (6) at (-1, 2.5) {};
		\node [style=oplus] (7) at (-0.75, 1) {};
		\node [style=dot] (8) at (0, 1) {};
		\node [style=none] (9) at (0, 3.5) {};
		\node [style=none] (10) at (0, 2.5) {};
		\node [style=none] (11) at (-0.5, 2.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (0.center) to (5);
		\draw [in=120, out=-90] (6.center) to (5);
		\draw (8) to (7);
		\draw (8) to (1.center);
		\draw (2.center) to (6.center);
		\draw [in=90, out=-90] (9.center) to (11.center);
		\draw [in=-90, out=90] (10.center) to (4);
		\draw (3.center) to (9.center);
		\draw (10.center) to (8);
		\draw [in=60, out=-90] (11.center) to (5);
	\end{pgfonlayer}
\end{tikzpicture}
=
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (0) at (-0.75, 0.5) {};
		\node [style=none] (1) at (-0.25, 0.5) {};
		\node [style=Z] (2) at (-0.25, 1.5) {};
		\node [style=fanout] (3) at (-0.75, 1.75) {};
		\node [style=none] (4) at (-1, 2.5) {};
		\node [style=oplus] (5) at (-0.75, 1) {};
		\node [style=dot] (6) at (-0.25, 1) {};
		\node [style=none] (7) at (-0.5, 2.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (0.center) to (3);
		\draw [in=120, out=-90] (4.center) to (3);
		\draw (6) to (5);
		\draw (6) to (1.center);
		\draw [in=60, out=-90] (7.center) to (3);
		\draw (2) to (6);
	\end{pgfonlayer}
\end{tikzpicture}
=
\left\llbracket
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=X] (0) at (-1, 1) {};
		\node [style=none] (1) at (-1.25, 0.5) {};
		\node [style=none] (2) at (-0.75, 0.5) {};
		\node [style=Z] (3) at (-1, 1.75) {};
		\node [style=none] (4) at (-1.25, 2.25) {};
		\node [style=none] (5) at (-0.75, 2.25) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=63, out=-90] (5.center) to (3);
		\draw (3) to (0);
		\draw [in=90, out=-117] (0) to (1.center);
		\draw [in=-63, out=90] (2.center) to (0);
		\draw [in=-90, out=117] (3) to (4.center);
	\end{pgfonlayer}
\end{tikzpicture}
\right\rrbracket_{\ZXA}
\end{align*}

\bibliography{bibliography} 
\bibliographystyle{plain}
\end{document}
