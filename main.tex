% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

% This is a simple template for a LaTeX document using the "article" class.
% See "book", "report", "letter" for other types of document.
\errorcontextlines=500

\documentclass[12pt]{ociamthesis}  % default square logo 

%\documentclass[a4paper,11pt,oneside]{book}
%\usepackage[DIV=14,BCOR=2mm,headinclude=true,footinclude=false]{typearea}

\input{preamble}

\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)




\title{Relational semantics for quantum protocols}
\author{Cole Comfort}
\college{New College}  %your college
\degree{Doctor of Philosophy in Computer Science} 
\degreedate{????? 2023}    

%\renewcommand{\submittedtext}{change the default text here if needed}
%\date{} % Activate to display a given date or no date (if empty),
         % otherwise the current date is printed 

\newcommand{\Set}{\Sets}
\newcommand{\Mnd}{{\sf Mnd}}

\begin{document}
\maketitle

\tableofcontents


\chapter{Introduction}


\chapter{Background}

\section{Category theory}





We assume that the reader has a basic understanding of monoidal bicategories.  For reference, refer to ?????JAMIE AND CHRIS HEUNEN


\begin{definition}
%2-category of spans
\end{definition}



\begin{definition}
%category of monads
\end{definition}



\begin{definition}
%Internal category
Given a category $\mathcal V$ with finite pullbacks $\mathcal V$, a {\it category internal to} $\mathcal V$ is a monad in $\Span(\mathcal V)$.
\end{definition}

Internal categories are indeed categories.  The collection of objects is given by the feet of the span, the set of morphisms by the apex, the domain and codomain by the left and right legs respectively.  The components of the unit of the comonad give the identity morphisms and the multiplication of the monad gives the composition.

\begin{lemma}
Monads internal to $\Set$ are in bijection with small categories.
\end{lemma}

It is not the case that monad maps correspond to functors between internal categories.  A canonical way to obtain such a notion requires the machinery of double categories, which is outside of the purview of this thesis.  However, internal profunctors can be developed in the globular setting.


\begin{definition}
%distributive law of monads, induced monad
\end{definition}


\begin{definition}
%Delta
\end{definition}

\begin{definition}
%Prop for frobenius algebras
\end{definition}


\begin{definition}
%distributive law of monads, induced monad
\end{definition}


\begin{definition}
%2-category of bimodules
\end{definition}



\begin{definition}
Given a category $\mathcal V$ with finite pullbacks, the 2-category of profunctors internal to $\mathcal V$, $\mathcal{V}-\Prof$ is $\Mod(\Mnd(\Span(\mathcal{V})))$.
\end{definition}

Bimodules allow us to consider distributive laws between two monads with shared structure, identified by the module actions.  For example, a distributive law of monoidal categories should identify the action of permuting wires on both categories. 



\begin{definition}
%prop for commutative monoid
\end{definition}


\begin{definition}
%Prop for commutative frobenius algebras
\end{definition}


\begin{definition}
%Prop for bialgebras
\end{definition}

\begin{lemma}
%Distributive laws and factorization theorems
\end{lemma}

%Give normal form for commutative frobenius algebras, bialgebras.

\begin{definition}
%symmetric monoidal theories (equalizers)
\end{definition}


\begin{definition}
%Lawvere theories
\end{definition}


\begin{lemma}
%distributive law of symmetric monoidal theories
\end{lemma}

%Ex distributive law of lawvere theories.
%  Ex a(b+c) = ab+ac

\begin{lemma}
%pushout of symmetric monoidal theories
\end{lemma}

\section{Categorical quantum mechanics}

\begin{definition}
%special dag-Frobenius algebras are orthonomal bases/quantum observables
\end{definition}

\begin{definition}
%Interacting Hopf-Frobenius algebras/ strongly complementary observables
\end{definition}
%example: this can be used to construct the CNOT gate


\begin{definition}
%Phases
\end{definition}

\begin{definition}
%The ZX-calculus, broadly, is a family of symmetric monoidal theories generated by interacting Hopf and special \dag-Frobenius algebras as well as a family of phases for these Frobenius algebras. 
\end{definition}

%Talk about the alternative scaling that we use to simplify things so that phase free ZX is presented by spans of Hopf algebras


%density matrices

\begin{definition}

%Dagger category... equivalent to ioo compact closed conjugation 

Given a $\dag$-compact closed category $\X$, there is a $\dag$-compact closed category $\CPM(\X)$ has:

\begin{description}
\item[Objects:] Same as in $\X$.

\item[Maps:]  
$
\dfrac{ X\xrightarrow{f} Y \otimes S \in \X           }
         { X\xrightarrow{(f,S)} Y \in \tilde \CPM(\X) }
$

Modulo the equivalence relation:

$
(f,S) \sim (g,T) \iff 
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (2) at (0.75, 11.75) {};
		\node [style=none] (4) at (0.75, 10.75) {};
		\node [style=none] (5) at (0.75, 10) {};
		\node [style=map] (6) at (0.75, 10.75) {$f$};
		\node [style=none] (7) at (1.75, 11.75) {};
		\node [style=none] (8) at (1.75, 10.75) {};
		\node [style=none] (9) at (1.75, 10) {};
		\node [style=map] (10) at (1.75, 10.75) {$f_*$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (9.center) to (10);
		\draw (10) to (7.center);
		\draw (6) to (2.center);
		\draw (5.center) to (6);
		\draw [bend left=60, looseness=1.50] (6) to (10);
	\end{pgfonlayer}
\end{tikzpicture}
=
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=none] (2) at (0.75, 11.75) {};
		\node [style=none] (4) at (0.75, 10.75) {};
		\node [style=none] (5) at (0.75, 10) {};
		\node [style=map] (6) at (0.75, 10.75) {$g$};
		\node [style=none] (7) at (1.75, 11.75) {};
		\node [style=none] (8) at (1.75, 10.75) {};
		\node [style=none] (9) at (1.75, 10) {};
		\node [style=map] (10) at (1.75, 10.75) {$g_*$};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw (9.center) to (10);
		\draw (10) to (7.center);
		\draw (6) to (2.center);
		\draw (5.center) to (6);
		\draw [bend left=60, looseness=1.50] (6) to (10);
	\end{pgfonlayer}
\end{tikzpicture}
$

\item[Composition]:  
$
\dfrac{X\xrightarrow{(f,S)} Y , \hspace*{.5cm} Y\xrightarrow{(g,T)} Z }
         {(f,S);(g;T) := (f;(g\otimes 1_S);\alpha^{-1}_{Z,S,T} ,S\otimes T) } 
$

Or using proof net notation:

$$
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=map] (0) at (0, 1.5) {$f$};
		\node [style=none] (1) at (-0.5, 2.5) {};
		\node [style=none] (2) at (0.5, 2.5) {};
		\node [style=none] (3) at (0, 0.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=117, out=-90] (1.center) to (0);
		\draw [in=-90, out=63] (0) to (2.center);
		\draw (0) to (3.center);
	\end{pgfonlayer}
\end{tikzpicture}
;
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=map] (0) at (0, 1.5) {$g$};
		\node [style=none] (1) at (-0.5, 2.5) {};
		\node [style=none] (2) at (0.5, 2.5) {};
		\node [style=none] (3) at (0, 0.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=117, out=-90] (1.center) to (0);
		\draw [in=-90, out=63] (0) to (2.center);
		\draw (0) to (3.center);
	\end{pgfonlayer}
\end{tikzpicture}
:=
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=map] (0) at (0, 1.5) {$f$};
		\node [style=none] (1) at (0.5, 2.5) {};
		\node [style=none] (2) at (0, 0.5) {};
		\node [style=map] (3) at (-0.5, 2.5) {$g$};
		\node [style=none] (4) at (-1, 3.5) {};
		\node [style=otimes] (5) at (0, 3.5) {};
		\node [style=none] (6) at (-0.5, 2.5) {};
		\node [style=none] (7) at (-1, 4.5) {};
		\node [style=none] (8) at (0, 4.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=-90, out=63] (0) to (1.center);
		\draw (0) to (2.center);
		\draw [in=117, out=-90] (4.center) to (3);
		\draw (3) to (5);
		\draw [in=117, out=-90] (6.center) to (0);
		\draw [in=-63, out=90] (1.center) to (5);
		\draw (5) to (8.center);
		\draw (4.center) to (7.center);
	\end{pgfonlayer}
\end{tikzpicture}
$$

\item[Identity:]
$
\dfrac{ 1_X \in \tilde \CPM(\X)}{(u^R_A)^{-1} \in \X}
$

\item[Tensor product:]

$$
\dfrac{X\xrightarrow{(f,S)} Y, \hspace*{.5cm} Z\xrightarrow{(g,T)} W}
{(f,S)\otimes (g;T) := ((f\otimes g);(1_{X\otimes S} \otimes c_{W,T});\alpha_{X,S,T\otimes W};(1_X\otimes \alpha_{S,T,W}^{-1};(c_{S,T}));\alpha_{Y,W,S\otimes T}^{-1} ,S\otimes T)} 
$$

Or in proof net notation:
$
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=map] (0) at (0, 1.5) {$f$};
		\node [style=none] (1) at (-0.5, 2.5) {};
		\node [style=none] (2) at (0.5, 2.5) {};
		\node [style=none] (3) at (0, 0.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=117, out=-90] (1.center) to (0);
		\draw [in=-90, out=63] (0) to (2.center);
		\draw (0) to (3.center);
	\end{pgfonlayer}
\end{tikzpicture}
;
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=map] (0) at (0, 1.5) {$g$};
		\node [style=none] (1) at (-0.5, 2.5) {};
		\node [style=none] (2) at (0.5, 2.5) {};
		\node [style=none] (3) at (0, 0.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=117, out=-90] (1.center) to (0);
		\draw [in=-90, out=63] (0) to (2.center);
		\draw (0) to (3.center);
	\end{pgfonlayer}
\end{tikzpicture}
:=
\begin{tikzpicture}
	\begin{pgfonlayer}{nodelayer}
		\node [style=map] (0) at (0, 1.5) {$f$};
		\node [style=none] (1) at (0.5, 2.5) {};
		\node [style=none] (2) at (0, 0.5) {};
		\node [style=map] (3) at (-0.5, 2.5) {$g$};
		\node [style=none] (4) at (-1, 3.5) {};
		\node [style=otimes] (5) at (0, 3.5) {};
		\node [style=none] (6) at (-0.5, 2.5) {};
		\node [style=none] (7) at (-1, 4.5) {};
		\node [style=none] (8) at (0, 4.5) {};
	\end{pgfonlayer}
	\begin{pgfonlayer}{edgelayer}
		\draw [in=-90, out=63] (0) to (1.center);
		\draw (0) to (2.center);
		\draw [in=117, out=-90] (4.center) to (3);
		\draw (3) to (5);
		\draw [in=117, out=-90] (6.center) to (0);
		\draw [in=-63, out=90] (1.center) to (5);
		\draw (5) to (8.center);
		\draw (4.center) to (7.center);
	\end{pgfonlayer}
\end{tikzpicture}
$

\item[Dagger compact closed structure:] Inherited pointwise from $\X$.

\end{description}
\end{definition}

%Quantum measurement and splitting idempotents/stoch construction

%Give example of qudit quantum teleportation

%ZH calculus 


\chapter{The classical fragment of the ZH-calculus}
\include{zxa_chapter}


\chapter{Decomposing fragments of the ZX/ZH-calculus}
\include{decomposing_zx_chapter}

\chapter{Relational semantics for stabilizer circuits}
\include{symplectic_chapter}


\chapter{Quantum combs}
\chapter{Categorical semantics for the scalable ZX-calculus}

\chapter{Conclusion}


\bibliography{bibliography} 
\bibliographystyle{plain}
\end{document}
